import{j as r,r as ue}from"./index-7s7xaQU8.js";import{r as g,R as T}from"./index-CC6F48bw.js";import"./index-qiR4Kxfn.js";function X(e){var t,a,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=X(e[t]))&&(n&&(n+=" "),n+=a)}else for(a in e)e[a]&&(n&&(n+=" "),n+=a);return n}function N(){for(var e,t,a=0,n="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=X(e))&&(n&&(n+=" "),n+=t);return n}const Q=({date:e,events:t,isToday:a,isCurrentMonth:n,isSelected:s,onClick:o,onEventClick:d})=>{const i=e.getDate(),c=[...t].sort((m,h)=>m.startDate.getTime()-h.startDate.getTime()),l=c.slice(0,3),p=Math.max(0,c.length-3);return r.jsxs("div",{className:N("min-h-[120px] sm:min-h-[140px] border-b border-r border-neutral-200 p-2 transition-colors hover:bg-neutral-50 cursor-pointer flex flex-col group",!n&&"bg-neutral-50 text-neutral-400 bg-opacity-30",s&&"bg-primary-50","focus-visible:z-10 focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-500"),onClick:()=>o(e),role:"gridcell","aria-label":`${e.toDateString()}, ${t.length} events`,tabIndex:0,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),o(e))},children:[r.jsx("div",{className:"flex justify-between items-start mb-1",children:r.jsx("span",{className:N("text-sm font-medium w-7 h-7 flex items-center justify-center rounded-full",a?"bg-primary-600 text-white":"text-neutral-700 group-hover:bg-neutral-100",!n&&"text-neutral-400"),children:i})}),r.jsxs("div",{className:"space-y-1 flex-1 overflow-hidden",children:[l.map(m=>r.jsx("div",{className:"text-xs px-2 py-1 rounded truncate transition-opacity hover:opacity-80 cursor-pointer",style:{backgroundColor:m.color||"#3b82f6",color:"#fff"},onClick:h=>{h.stopPropagation(),d(m)},role:"button",tabIndex:0,"aria-label":`Event: ${m.title}`,children:m.title},m.id)),p>0&&r.jsxs("div",{className:"text-xs text-neutral-500 font-medium pl-1",children:["+",p," more"]})]})]})};Q.__docgenInfo={description:"",methods:[],displayName:"CalendarCell",props:{date:{required:!0,tsType:{name:"Date"},description:""},events:{required:!0,tsType:{name:"Array",elements:[{name:"CalendarEvent"}],raw:"CalendarEvent[]"},description:""},isToday:{required:!0,tsType:{name:"boolean"},description:""},isCurrentMonth:{required:!0,tsType:{name:"boolean"},description:""},isSelected:{required:!1,tsType:{name:"boolean"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:""},onEventClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: CalendarEvent) => void",signature:{arguments:[{type:{name:"CalendarEvent"},name:"event"}],return:{name:"void"}}},description:""}}};const O=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),me=e=>{const t=e.getFullYear(),a=e.getMonth(),n=new Date(t,a,1),s=n.getDay(),o=new Date(n);o.setDate(o.getDate()-s);const d=[];for(let i=0;i<42;i++)d.push(new Date(o)),o.setDate(o.getDate()+1);return d},pe=e=>new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(e),ge=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ee=({currentDate:e,events:t,onDateClick:a,onEventClick:n})=>{const s=me(e),o=new Date;return r.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-sm border border-neutral-200 overflow-hidden",children:[r.jsx("div",{className:"grid grid-cols-7 border-b border-neutral-200 bg-neutral-50",children:ge.map(d=>r.jsx("div",{className:"py-3 text-center text-xs font-semibold uppercase tracking-wider text-neutral-500",children:d},d))}),r.jsx("div",{className:"grid grid-cols-7 auto-rows-fr bg-neutral-200 gap-px flex-1 border-b border-neutral-200",children:s.map(d=>{const i=t.filter(l=>O(new Date(l.startDate),d)),c=d.getMonth()===e.getMonth();return r.jsx("div",{className:"bg-white min-h-[100px]",children:r.jsx(Q,{date:d,isToday:O(d,o),isCurrentMonth:c,events:i,onClick:a,onEventClick:n})},d.toISOString())})})]})};ee.__docgenInfo={description:"",methods:[],displayName:"MonthView",props:{currentDate:{required:!0,tsType:{name:"Date"},description:""},events:{required:!0,tsType:{name:"Array",elements:[{name:"CalendarEvent"}],raw:"CalendarEvent[]"},description:""},onDateClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:""},onEventClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: CalendarEvent) => void",signature:{arguments:[{type:{name:"CalendarEvent"},name:"event"}],return:{name:"void"}}},description:""}}};const L=Array.from({length:24},(e,t)=>t),he=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],te=({currentDate:e,events:t,onTimeSlotClick:a,onEventClick:n})=>{const s=g.useMemo(()=>{const i=new Date(e);i.setDate(e.getDate()-e.getDay());const c=[];for(let l=0;l<7;l++){const p=new Date(i);p.setDate(i.getDate()+l),c.push(p)}return c},[e]),o=new Date,d=i=>{const c=new Date(i.startDate),l=new Date(i.endDate),p=c.getHours()+c.getMinutes()/60,h=l.getHours()+l.getMinutes()/60-p;return{top:`${p*60}px`,height:`${Math.max(h*60,24)}px`}};return r.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-sm border border-neutral-200 overflow-hidden",children:[r.jsx("div",{className:"flex border-b border-neutral-200 bg-neutral-50 ml-14",children:s.map((i,c)=>{const l=O(i,o);return r.jsxs("div",{className:"flex-1 py-3 text-center border-l border-neutral-200 first:border-l-0",children:[r.jsx("div",{className:"text-xs font-semibold uppercase text-neutral-500",children:he[i.getDay()]}),r.jsx("div",{className:N("mt-1 text-lg font-medium w-8 h-8 rounded-full flex items-center justify-center mx-auto",l?"bg-primary-600 text-white":"text-neutral-900"),children:i.getDate()})]},c)})}),r.jsxs("div",{className:"flex-1 overflow-y-auto relative h-[600px]",children:[" ",r.jsxs("div",{className:"flex relative min-h-[1440px]",children:[" ",r.jsx("div",{className:"w-14 flex-none border-r border-neutral-200 bg-neutral-50 sticky left-0 z-10",children:L.map(i=>r.jsx("div",{className:"h-[60px] text-xs text-neutral-500 text-right pr-2 relative -top-2",children:i===0?"":`${i}:00`},i))}),r.jsxs("div",{className:"flex-1 flex relative",children:[r.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",children:L.map(i=>r.jsx("div",{className:"h-[60px] border-b border-neutral-100"},i))}),s.map(i=>{const c=t.filter(l=>O(new Date(l.startDate),i));return r.jsxs("div",{className:"flex-1 border-l border-neutral-200 first:border-l-0 relative group",children:[L.map(l=>r.jsx("div",{className:"h-[60px] w-full absolute z-0 hover:bg-neutral-50 transition-colors",style:{top:`${l*60}px`},onClick:()=>{const p=new Date(i);p.setHours(l,0,0,0),a(p)}},l)),c.map(l=>{const p=d(l);return r.jsxs("div",{className:"absolute left-1 right-1 rounded px-2 py-1 text-xs text-white overflow-hidden cursor-pointer hover:brightness-110 z-10 shadow-sm",style:{...p,backgroundColor:l.color||"#3b82f6"},onClick:m=>{m.stopPropagation(),n(l)},role:"button",tabIndex:0,"aria-label":`Event: ${l.title} from ${l.startDate.toLocaleTimeString()} to ${l.endDate.toLocaleTimeString()}`,children:[r.jsx("div",{className:"font-semibold",children:l.title}),r.jsx("div",{className:"opacity-90 text-[10px]",children:l.startDate.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},l.id)})]},i.toISOString())})]})]})]})]})};te.__docgenInfo={description:"",methods:[],displayName:"WeekView",props:{currentDate:{required:!0,tsType:{name:"Date"},description:""},events:{required:!0,tsType:{name:"Array",elements:[{name:"CalendarEvent"}],raw:"CalendarEvent[]"},description:""},onTimeSlotClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:""},onEventClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: CalendarEvent) => void",signature:{arguments:[{type:{name:"CalendarEvent"},name:"event"}],return:{name:"void"}}},description:""}}};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ve=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,n)=>n?n.toUpperCase():a.toLowerCase()),P=e=>{const t=ve(e);return t.charAt(0).toUpperCase()+t.slice(1)},re=(...e)=>e.filter((t,a,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===a).join(" ").trim(),xe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:d,...i},c)=>g.createElement("svg",{ref:c,...ye,width:t,height:t,stroke:e,strokeWidth:n?Number(a)*24/Number(t):a,className:re("lucide",s),...!o&&!xe(i)&&{"aria-hidden":"true"},...i},[...d.map(([l,p])=>g.createElement(l,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=(e,t)=>{const a=g.forwardRef(({className:n,...s},o)=>g.createElement(be,{ref:o,iconNode:t,className:re(`lucide-${fe(P(e))}`,`lucide-${e}`,n),...s}));return a.displayName=P(e),a};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],De=k("calendar",we);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ce=k("chevron-down",je);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Se=k("chevron-left",Ne);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Te=k("chevron-right",ke);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ie=k("x",Ee),j=({className:e,variant:t="primary",size:a="md",children:n,...s})=>{const o="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",d={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",danger:"bg-error-500 text-white hover:bg-error-600 focus:ring-error-500",ghost:"text-neutral-600 hover:bg-neutral-100 hover:text-neutral-900 focus:ring-neutral-500"},i={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return r.jsx("button",{className:N(o,d[t],i[a],e),...s,children:n})};j.__docgenInfo={description:"",methods:[],displayName:"Button",props:{variant:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary' | 'danger' | 'ghost'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'danger'"},{name:"literal",value:"'ghost'"}]},description:"",defaultValue:{value:"'primary'",computed:!1}},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:"",defaultValue:{value:"'md'",computed:!1}}},composes:["ButtonHTMLAttributes"]};const A=({label:e,options:t,error:a,className:n,id:s,...o})=>{const d=s||o.name;return r.jsxs("div",{className:"w-full",children:[e&&r.jsx("label",{htmlFor:d,className:"block text-sm font-medium text-neutral-700 mb-1",children:e}),r.jsxs("div",{className:"relative",children:[r.jsx("select",{id:d,className:N("block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm px-3 py-2 border appearance-none pr-10",a&&"border-error-500 focus:border-error-500 focus:ring-error-500",n),...o,children:t.map(i=>r.jsx("option",{value:i.value,children:i.label},i.value))}),r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-neutral-500",children:r.jsx(Ce,{className:"h-4 w-4"})})]}),a&&r.jsx("p",{className:"mt-1 text-xs text-error-500",children:a})]})};A.__docgenInfo={description:"",methods:[],displayName:"Select",props:{label:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"SelectOption"}],raw:"SelectOption[]"},description:""},error:{required:!1,tsType:{name:"string"},description:""}},composes:["SelectHTMLAttributes"]};const ae=({currentDate:e,view:t,onNextMonth:a,onPrevMonth:n,onToday:s,onViewChange:o})=>r.jsxs("header",{className:"flex flex-col sm:flex-row items-center justify-between border-b border-neutral-200 px-6 py-4 bg-white gap-4 sm:gap-0",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center text-neutral-900",children:[r.jsx(De,{className:"w-6 h-6 mr-2 text-primary-600"}),r.jsx("h1",{className:"text-xl font-bold",children:pe(e)})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(j,{variant:"ghost",size:"sm",onClick:n,"aria-label":"Previous month",children:r.jsx(Se,{className:"w-5 h-5"})}),r.jsx(j,{variant:"ghost",size:"sm",onClick:a,"aria-label":"Next month",children:r.jsx(Te,{className:"w-5 h-5"})}),r.jsx(j,{variant:"secondary",size:"sm",onClick:s,children:"Today"})]})]}),r.jsx("div",{className:"flex items-center",children:r.jsx("div",{className:"w-32",children:r.jsx(A,{options:[{value:"month",label:"Month View"},{value:"week",label:"Week View"}],value:t,onChange:d=>o(d.target.value),"aria-label":"Calendar view"})})})]});ae.__docgenInfo={description:"",methods:[],displayName:"Header",props:{currentDate:{required:!0,tsType:{name:"Date"},description:""},view:{required:!0,tsType:{name:"union",raw:"'month' | 'week'",elements:[{name:"literal",value:"'month'"},{name:"literal",value:"'week'"}]},description:""},onNextMonth:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onPrevMonth:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onToday:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onViewChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(view: CalendarViewType) => void",signature:{arguments:[{type:{name:"union",raw:"'month' | 'week'",elements:[{name:"literal",value:"'month'"},{name:"literal",value:"'week'"}]},name:"view"}],return:{name:"void"}}},description:""}}};const Me=({isOpen:e,onClose:t,title:a,children:n,description:s})=>(g.useEffect(()=>{const o=d=>{d.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",o),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",o),document.body.style.overflow="unset"}},[e,t]),e?ue.createPortal(r.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":s?"modal-description":void 0,children:[r.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm transition-opacity",onClick:t,"aria-hidden":"true"}),r.jsxs("div",{className:"relative w-full max-w-lg transform rounded-xl bg-white p-6 text-left shadow-modal transition-all animate-fade-in",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-neutral-900",children:a}),s&&r.jsx("p",{id:"modal-description",className:"mt-1 text-sm text-neutral-500",children:s})]}),r.jsx(j,{variant:"ghost",size:"sm",onClick:t,"aria-label":"Close modal",className:"!p-1",children:r.jsx(Ie,{className:"w-5 h-5"})})]}),n]})]}),document.body):null),H=({label:e,error:t,className:a,id:n,...s})=>{const o=n||s.name;return r.jsxs("div",{className:"w-full",children:[e&&r.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-neutral-700 mb-1",children:e}),r.jsx("input",{id:o,className:N("block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm px-3 py-2 border",t&&"border-error-500 focus:border-error-500 focus:ring-error-500",a),...s}),t&&r.jsx("p",{className:"mt-1 text-xs text-error-500",children:t})]})};H.__docgenInfo={description:"",methods:[],displayName:"Input",props:{label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""}},composes:["InputHTMLAttributes"]};const ne=({label:e,error:t,className:a,id:n,...s})=>{const o=n||s.name;return r.jsxs("div",{className:"w-full",children:[e&&r.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-neutral-700 mb-1",children:e}),r.jsx("textarea",{id:o,className:N("block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm px-3 py-2 border",t&&"border-error-500 focus:border-error-500 focus:ring-error-500",a),...s}),t&&r.jsx("p",{className:"mt-1 text-xs text-error-500",children:t})]})};ne.__docgenInfo={description:"",methods:[],displayName:"Textarea",props:{label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""}},composes:["TextareaHTMLAttributes"]};const E=[{value:"#3b82f6",label:"Blue"},{value:"#ef4444",label:"Red"},{value:"#10b981",label:"Green"},{value:"#f59e0b",label:"Yellow"},{value:"#8b5cf6",label:"Purple"}],I=[{value:"Meeting",label:"Meeting"},{value:"Work",label:"Work"},{value:"Personal",label:"Personal"},{value:"Other",label:"Other"}],se=({isOpen:e,onClose:t,onSave:a,onDelete:n,initialEvent:s,selectedDate:o})=>{const[d,i]=g.useState(""),[c,l]=g.useState(""),[p,m]=g.useState(""),[h,y]=g.useState(""),[C,u]=g.useState(E[0].value),[w,D]=g.useState(I[0].value),[v,b]=g.useState({});g.useEffect(()=>{if(e){if(s)i(s.title||""),l(s.description||""),m(x(s.startDate||o||new Date)),y(x(s.endDate||new Date(new Date().setHours(new Date().getHours()+1)))),u(s.color||E[0].value),D(s.category||I[0].value);else{const f=o||new Date,S=new Date(f.getTime()+60*60*1e3);i(""),l(""),m(x(f)),y(x(S)),u(E[0].value),D(I[0].value)}b({})}},[e,s,o]);const x=f=>{const S=new Date(f);return S.setMinutes(S.getMinutes()-S.getTimezoneOffset()),S.toISOString().slice(0,16)},$=()=>{const f={};return d.trim()||(f.title="Title is required"),p||(f.startDate="Start date is required"),h||(f.endDate="End date is required"),new Date(p)>=new Date(h)&&(f.endDate="End date must be after start date"),b(f),Object.keys(f).length===0},de=()=>{$()&&(a({id:(s==null?void 0:s.id)||crypto.randomUUID(),title:d,description:c,startDate:new Date(p),endDate:new Date(h),color:C,category:w}),t())},ce=()=>{s!=null&&s.id&&(n(s.id),t())};return r.jsx(Me,{isOpen:e,onClose:t,title:s!=null&&s.id?"Edit Event":"Add Event",children:r.jsxs("div",{className:"space-y-4",children:[r.jsx(H,{label:"Title",value:d,onChange:f=>i(f.target.value),error:v.title,placeholder:"Event title",autoFocus:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(H,{label:"Start",type:"datetime-local",value:p,onChange:f=>m(f.target.value),error:v.startDate}),r.jsx(H,{label:"End",type:"datetime-local",value:h,onChange:f=>y(f.target.value),error:v.endDate})]}),r.jsx(ne,{label:"Description",value:c,onChange:f=>l(f.target.value),placeholder:"Add description...",rows:3}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(A,{label:"Color",options:E,value:C,onChange:f=>u(f.target.value)}),r.jsx(A,{label:"Category",options:I,value:w,onChange:f=>D(f.target.value)})]}),r.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-neutral-100 mt-6",children:[(s==null?void 0:s.id)&&r.jsx(j,{variant:"danger",onClick:ce,type:"button",className:"mr-auto",children:"Delete"}),r.jsx(j,{variant:"secondary",onClick:t,type:"button",children:"Cancel"}),r.jsx(j,{onClick:de,type:"button",children:"Save"})]})]})})};se.__docgenInfo={description:"",methods:[],displayName:"EventModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSave:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: CalendarEvent) => void",signature:{arguments:[{type:{name:"CalendarEvent"},name:"event"}],return:{name:"void"}}},description:""},onDelete:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},initialEvent:{required:!1,tsType:{name:"Partial",elements:[{name:"CalendarEvent"}],raw:"Partial<CalendarEvent>"},description:""},selectedDate:{required:!1,tsType:{name:"Date"},description:""}}};const qe=(e=new Date)=>{const[t,a]=g.useState({currentDate:e,view:"month",selectedDate:null}),n=g.useCallback(()=>{a(c=>({...c,currentDate:new Date(c.currentDate.getFullYear(),c.currentDate.getMonth()+1,1)}))},[]),s=g.useCallback(()=>{a(c=>({...c,currentDate:new Date(c.currentDate.getFullYear(),c.currentDate.getMonth()-1,1)}))},[]),o=g.useCallback(()=>{a(c=>({...c,currentDate:new Date}))},[]),d=g.useCallback(c=>{a(l=>({...l,view:c}))},[]),i=g.useCallback(c=>{a(l=>({...l,selectedDate:c}))},[]);return{...t,goToNextMonth:n,goToPreviousMonth:s,goToToday:o,setView:d,selectDate:i}},W=e=>{let t;const a=new Set,n=(l,p)=>{const m=typeof l=="function"?l(t):l;if(!Object.is(m,t)){const h=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),a.forEach(y=>y(t,h))}},s=()=>t,i={setState:n,getState:s,getInitialState:()=>c,subscribe:l=>(a.add(l),()=>a.delete(l))},c=t=e(n,s,i);return i},_e=e=>e?W(e):W,He=e=>e;function Oe(e,t=He){const a=T.useSyncExternalStore(e.subscribe,T.useCallback(()=>t(e.getState()),[e,t]),T.useCallback(()=>t(e.getInitialState()),[e,t]));return T.useDebugValue(a),a}const F=e=>{const t=_e(e),a=n=>Oe(t,n);return Object.assign(a,t),a},Ae=e=>e?F(e):F;function $e(e,t){let a;try{a=e()}catch{return}return{getItem:s=>{var o;const d=c=>c===null?null:JSON.parse(c,void 0),i=(o=a.getItem(s))!=null?o:null;return i instanceof Promise?i.then(d):d(i)},setItem:(s,o)=>a.setItem(s,JSON.stringify(o,void 0)),removeItem:s=>a.removeItem(s)}}const V=e=>t=>{try{const a=e(t);return a instanceof Promise?a:{then(n){return V(n)(a)},catch(n){return this}}}catch(a){return{then(n){return this},catch(n){return V(n)(a)}}}},Le=(e,t)=>(a,n,s)=>{let o={storage:$e(()=>localStorage),partialize:u=>u,version:0,merge:(u,w)=>({...w,...u}),...t},d=!1;const i=new Set,c=new Set;let l=o.storage;if(!l)return e((...u)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),a(...u)},n,s);const p=()=>{const u=o.partialize({...n()});return l.setItem(o.name,{state:u,version:o.version})},m=s.setState;s.setState=(u,w)=>(m(u,w),p());const h=e((...u)=>(a(...u),p()),n,s);s.getInitialState=()=>h;let y;const C=()=>{var u,w;if(!l)return;d=!1,i.forEach(v=>{var b;return v((b=n())!=null?b:h)});const D=((w=o.onRehydrateStorage)==null?void 0:w.call(o,(u=n())!=null?u:h))||void 0;return V(l.getItem.bind(l))(o.name).then(v=>{if(v)if(typeof v.version=="number"&&v.version!==o.version){if(o.migrate){const b=o.migrate(v.state,v.version);return b instanceof Promise?b.then(x=>[!0,x]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,v.state];return[!1,void 0]}).then(v=>{var b;const[x,$]=v;if(y=o.merge($,(b=n())!=null?b:h),a(y,!0),x)return p()}).then(()=>{D==null||D(y,void 0),y=n(),d=!0,c.forEach(v=>v(y))}).catch(v=>{D==null||D(void 0,v)})};return s.persist={setOptions:u=>{o={...o,...u},u.storage&&(l=u.storage)},clearStorage:()=>{l==null||l.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>C(),hasHydrated:()=>d,onHydrate:u=>(i.add(u),()=>{i.delete(u)}),onFinishHydration:u=>(c.add(u),()=>{c.delete(u)})},o.skipHydration||C(),y||h},Ve=Le,oe=Ae()(Ve((e,t)=>({events:[],addEvent:a=>e(n=>({events:[...n.events,a]})),updateEvent:(a,n)=>e(s=>({events:s.events.map(o=>o.id===a?{...o,...n}:o)})),deleteEvent:a=>e(n=>({events:n.events.filter(s=>s.id!==a)})),getEventsByDate:a=>{const{events:n}=t();return n.filter(s=>{const o=new Date(s.startDate),d=new Date(s.endDate),i=new Date(a);return o.setHours(0,0,0,0),d.setHours(0,0,0,0),i.setHours(0,0,0,0),i>=o&&i<=d})}}),{name:"calendar-events-storage",storage:{getItem:e=>{const t=localStorage.getItem(e);return t?JSON.parse(t,(a,n)=>a==="startDate"||a==="endDate"?new Date(n):n):null},setItem:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},removeItem:e=>localStorage.removeItem(e)}})),ie=()=>{const{currentDate:e,view:t,goToNextMonth:a,goToPreviousMonth:n,goToToday:s,setView:o}=qe(),{events:d,addEvent:i,updateEvent:c,deleteEvent:l}=oe(),[p,m]=g.useState(!1),[h,y]=g.useState(void 0),[C,u]=g.useState(void 0),w=x=>{u(x),y(void 0),m(!0)},D=x=>{y(x),u(void 0),m(!0)},v=x=>{h!=null&&h.id?c(x.id,x):i(x)},b=x=>{l(x)};return r.jsxs("div",{className:"h-screen flex flex-col bg-neutral-50 p-4 sm:p-6 lg:p-8",children:[r.jsxs("div",{className:"max-w-7xl mx-auto w-full h-full flex flex-col bg-white rounded-xl shadow-card overflow-hidden",children:[r.jsx(ae,{currentDate:e,view:t,onNextMonth:a,onPrevMonth:n,onToday:s,onViewChange:o}),r.jsx("main",{className:"flex-1 overflow-auto p-4",children:t==="month"?r.jsx(ee,{currentDate:e,events:d,onDateClick:w,onEventClick:D}):r.jsx(te,{currentDate:e,events:d,onTimeSlotClick:w,onEventClick:D})})]}),r.jsx(se,{isOpen:p,onClose:()=>m(!1),onSave:v,onDelete:b,initialEvent:h,selectedDate:C})]})};ie.__docgenInfo={description:"",methods:[],displayName:"CalendarView"};const Pe=({events:e,...t})=>{const{addEvent:a}=oe();return g.useEffect(()=>{e.forEach(n=>a(n))},[]),r.jsx(ie,{...t})},ze={title:"Calendar/CalendarView",component:Pe,parameters:{layout:"fullscreen"}},le=[{id:"1",title:"Team Standup",startDate:new Date(new Date().setHours(9,0,0,0)),endDate:new Date(new Date().setHours(9,30,0,0)),color:"#3b82f6",category:"Meeting"},{id:"2",title:"Design Review",startDate:new Date(new Date().setHours(14,0,0,0)),endDate:new Date(new Date().setHours(15,30,0,0)),color:"#10b981",category:"Work"}],M={args:{events:le}},q={args:{events:[]}},_={args:{events:le}};var R,z,B;M.parameters={...M.parameters,docs:{...(R=M.parameters)==null?void 0:R.docs,source:{originalSource:`{
  args: {
    events: sampleEvents
  }
}`,...(B=(z=M.parameters)==null?void 0:z.docs)==null?void 0:B.source}}};var Y,U,J;q.parameters={...q.parameters,docs:{...(Y=q.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  args: {
    events: []
  }
}`,...(J=(U=q.parameters)==null?void 0:U.docs)==null?void 0:J.source}}};var K,G,Z;_.parameters={..._.parameters,docs:{...(K=_.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    events: sampleEvents
  }
  // parameters to switch view? CalendarView doesn't accept initialView prop in my implementation yet usually? 
  // Wait, create hook defined internal state. 
  // If I want to control it via storybook, I pass props to CalendarView that init the hook.
  // I should check CalendarView implementation. It just uses useCalendar() with defaults.
  // To make it testable, I should probably accept optional props in CalendarView to pass to useCalendar.
}`,...(Z=(G=_.parameters)==null?void 0:G.docs)==null?void 0:Z.source}}};const Be=["Default","Empty","WeekView"];export{M as Default,q as Empty,_ as WeekView,Be as __namedExportsOrder,ze as default};
