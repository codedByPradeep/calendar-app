import{r as me,j as d}from"./index-7s7xaQU8.js";import{r as c,R as L}from"./index-CC6F48bw.js";import"./index-qiR4Kxfn.js";function dn(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=dn(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ue(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=dn(e))&&(r&&(r+=" "),r+=t);return r}const Je=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function be(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function vt(e){return"nodeType"in e}function P(e){var t,n;return e?be(e)?e:vt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function bt(e){const{Document:t}=P(e);return e instanceof t}function Me(e){return be(e)?!1:e instanceof P(e).HTMLElement}function fn(e){return e instanceof P(e).SVGElement}function ye(e){return e?be(e)?e.document:vt(e)?bt(e)?e:Me(e)||fn(e)?e.ownerDocument:document:document:document}const se=Je?c.useLayoutEffect:c.useEffect;function yt(e){const t=c.useRef(e);return se(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Kn(){const e=c.useRef(null),t=c.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=c.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Te(e,t){t===void 0&&(t=[e]);const n=c.useRef(e);return se(()=>{n.current!==e&&(n.current=e)},t),n}function ke(e,t){const n=c.useRef();return c.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function We(e){const t=yt(e),n=c.useRef(null),r=c.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function ut(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}let st={};function Ge(e,t){return c.useMemo(()=>{if(t)return t;const n=st[e]==null?0:st[e]+1;return st[e]=n,e+"-"+n},[e,t])}function hn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,i)=>{const a=Object.entries(i);for(const[u,l]of a){const h=s[u];h!=null&&(s[u]=h+e*l)}return s},{...t})}}const ve=hn(1),Ve=hn(-1);function Jn(e){return"clientX"in e&&"clientY"in e}function gn(e){if(!e)return!1;const{KeyboardEvent:t}=P(e.target);return t&&e instanceof t}function Gn(e){if(!e)return!1;const{TouchEvent:t}=P(e.target);return t&&e instanceof t}function dt(e){if(Gn(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Jn(e)?{x:e.clientX,y:e.clientY}:null}const ft=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ft.Translate.toString(e),ft.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Ft="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Zn(e){return e.matches(Ft)?e:e.querySelector(Ft)}const Qn={display:"none"};function er(e){let{id:t,value:n}=e;return L.createElement("div",{id:t,style:Qn},n)}function tr(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return L.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function nr(){const[e,t]=c.useState("");return{announce:c.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const pn=c.createContext(null);function rr(e){const t=c.useContext(pn);c.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function or(){const[e]=c.useState(()=>new Set),t=c.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[c.useCallback(r=>{let{type:o,event:s}=r;e.forEach(i=>{var a;return(a=i[o])==null?void 0:a.call(i,s)})},[e]),t]}const sr={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},ar={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ir(e){let{announcements:t=ar,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=sr}=e;const{announce:s,announcement:i}=nr(),a=Ge("DndLiveRegion"),[u,l]=c.useState(!1);if(c.useEffect(()=>{l(!0)},[]),rr(c.useMemo(()=>({onDragStart(f){let{active:m}=f;s(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:p}=f;t.onDragMove&&s(t.onDragMove({active:m,over:p}))},onDragOver(f){let{active:m,over:p}=f;s(t.onDragOver({active:m,over:p}))},onDragEnd(f){let{active:m,over:p}=f;s(t.onDragEnd({active:m,over:p}))},onDragCancel(f){let{active:m,over:p}=f;s(t.onDragCancel({active:m,over:p}))}}),[s,t])),!u)return null;const h=L.createElement(L.Fragment,null,L.createElement(er,{id:r,value:o.draggable}),L.createElement(tr,{id:a,announcement:i}));return n?me.createPortal(h,n):h}var M;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(M||(M={}));function Ye(){}function $t(e,t){return c.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function lr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const W=Object.freeze({x:0,y:0});function cr(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function ur(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function dr(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),i=o-r,a=s-n;if(r<o&&n<s){const u=t.width*t.height,l=e.width*e.height,h=i*a,f=h/(u+l-h);return Number(f.toFixed(4))}return 0}const fr=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const s of r){const{id:i}=s,a=n.get(i);if(a){const u=dr(a,t);u>0&&o.push({id:i,data:{droppableContainer:s,value:u}})}}return o.sort(cr)};function hr(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function mn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:W}function gr(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((i,a)=>({...i,top:i.top+e*a.y,bottom:i.bottom+e*a.y,left:i.left+e*a.x,right:i.right+e*a.x}),{...n})}}const pr=gr(1);function mr(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function vr(e,t,n){const r=mr(t);if(!r)return e;const{scaleX:o,scaleY:s,x:i,y:a}=r,u=e.left-i-(1-o)*parseFloat(n),l=e.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),h=o?e.width/o:e.width,f=s?e.height/s:e.height;return{width:h,height:f,top:l,right:u+h,bottom:l+f,left:u}}const br={ignoreTransform:!1};function je(e,t){t===void 0&&(t=br);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:l,transformOrigin:h}=P(e).getComputedStyle(e);l&&(n=vr(n,l,h))}const{top:r,left:o,width:s,height:i,bottom:a,right:u}=n;return{top:r,left:o,width:s,height:i,bottom:a,right:u}}function Ht(e){return je(e,{ignoreTransform:!0})}function yr(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function wr(e,t){return t===void 0&&(t=P(e).getComputedStyle(e)),t.position==="fixed"}function xr(e,t){t===void 0&&(t=P(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})}function wt(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(bt(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Me(o)||fn(o)||n.includes(o))return n;const s=P(e).getComputedStyle(o);return o!==e&&xr(o,s)&&n.push(o),wr(o,s)?n:r(o.parentNode)}return e?r(e):n}function vn(e){const[t]=wt(e,1);return t??null}function at(e){return!Je||!e?null:be(e)?e:vt(e)?bt(e)||e===ye(e).scrollingElement?window:Me(e)?e:null:null}function bn(e){return be(e)?e.scrollX:e.scrollLeft}function yn(e){return be(e)?e.scrollY:e.scrollTop}function ht(e){return{x:bn(e),y:yn(e)}}var j;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(j||(j={}));function wn(e){return!Je||!e?!1:e===document.scrollingElement}function xn(e){const t={x:0,y:0},n=wn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:i,isRight:a,maxScroll:r,minScroll:t}}const Dr={x:.2,y:.2};function Cr(e,t,n,r,o){let{top:s,left:i,right:a,bottom:u}=n;r===void 0&&(r=10),o===void 0&&(o=Dr);const{isTop:l,isBottom:h,isLeft:f,isRight:m}=xn(e),p={x:0,y:0},D={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!l&&s<=t.top+g.height?(p.y=j.Backward,D.y=r*Math.abs((t.top+g.height-s)/g.height)):!h&&u>=t.bottom-g.height&&(p.y=j.Forward,D.y=r*Math.abs((t.bottom-g.height-u)/g.height)),!m&&a>=t.right-g.width?(p.x=j.Forward,D.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&i<=t.left+g.width&&(p.x=j.Backward,D.x=r*Math.abs((t.left+g.width-i)/g.width)),{direction:p,speed:D}}function Sr(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Dn(e){return e.reduce((t,n)=>ve(t,ht(n)),W)}function Er(e){return e.reduce((t,n)=>t+bn(n),0)}function Nr(e){return e.reduce((t,n)=>t+yn(n),0)}function Tr(e,t){if(t===void 0&&(t=je),!e)return;const{top:n,left:r,bottom:o,right:s}=t(e);vn(e)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Rr=[["x",["left","right"],Er],["y",["top","bottom"],Nr]];class xt{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=wt(n),o=Dn(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,i,a]of Rr)for(const u of i)Object.defineProperty(this,u,{get:()=>{const l=a(r),h=o[s]-l;return this.rect[u]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Se{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Mr(e){const{EventTarget:t}=P(e);return e instanceof t?e:ye(e)}function it(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var $;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})($||($={}));function Bt(e){e.preventDefault()}function kr(e){e.stopPropagation()}var T;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(T||(T={}));const Cn={start:[T.Space,T.Enter],cancel:[T.Esc],end:[T.Space,T.Enter,T.Tab]},jr=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case T.Right:return{...n,x:n.x+25};case T.Left:return{...n,x:n.x-25};case T.Down:return{...n,y:n.y+25};case T.Up:return{...n,y:n.y-25}}};class Sn{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Se(ye(n)),this.windowListeners=new Se(P(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($.Resize,this.handleCancel),this.windowListeners.add($.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Tr(r),n(W)}handleKeyDown(t){if(gn(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=Cn,coordinateGetter:i=jr,scrollBehavior:a="smooth"}=o,{code:u}=t;if(s.end.includes(u)){this.handleEnd(t);return}if(s.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:l}=r.current,h=l?{x:l.left,y:l.top}:W;this.referenceCoordinates||(this.referenceCoordinates=h);const f=i(t,{active:n,context:r.current,currentCoordinates:h});if(f){const m=Ve(f,h),p={x:0,y:0},{scrollableAncestors:D}=r.current;for(const g of D){const b=t.code,{isTop:C,isRight:y,isLeft:w,isBottom:N,maxScroll:x,minScroll:R}=xn(g),S=Sr(g),v={x:Math.min(b===T.Right?S.right-S.width/2:S.right,Math.max(b===T.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(b===T.Down?S.bottom-S.height/2:S.bottom,Math.max(b===T.Down?S.top:S.top+S.height/2,f.y))},E=b===T.Right&&!y||b===T.Left&&!w,I=b===T.Down&&!N||b===T.Up&&!C;if(E&&v.x!==f.x){const k=g.scrollLeft+m.x,U=b===T.Right&&k<=x.x||b===T.Left&&k>=R.x;if(U&&!m.y){g.scrollTo({left:k,behavior:a});return}U?p.x=g.scrollLeft-k:p.x=b===T.Right?g.scrollLeft-x.x:g.scrollLeft-R.x,p.x&&g.scrollBy({left:-p.x,behavior:a});break}else if(I&&v.y!==f.y){const k=g.scrollTop+m.y,U=b===T.Down&&k<=x.y||b===T.Up&&k>=R.y;if(U&&!m.x){g.scrollTo({top:k,behavior:a});return}U?p.y=g.scrollTop-k:p.y=b===T.Down?g.scrollTop-x.y:g.scrollTop-R.y,p.y&&g.scrollBy({top:-p.y,behavior:a});break}}this.handleMove(t,ve(Ve(f,this.referenceCoordinates),p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Sn.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Cn,onActivation:o}=t,{active:s}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const a=s.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function Wt(e){return!!(e&&"distance"in e)}function Vt(e){return!!(e&&"delay"in e)}class Dt{constructor(t,n,r){var o;r===void 0&&(r=Mr(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:i}=s;this.props=t,this.events=n,this.document=ye(i),this.documentListeners=new Se(this.document),this.listeners=new Se(r),this.windowListeners=new Se(P(i)),this.initialCoordinates=(o=dt(s))!=null?o:W,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add($.Resize,this.handleCancel),this.windowListeners.add($.DragStart,Bt),this.windowListeners.add($.VisibilityChange,this.handleCancel),this.windowListeners.add($.ContextMenu,Bt),this.documentListeners.add($.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Vt(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Wt(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:o}=this.props;o(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add($.Click,kr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:i,options:{activationConstraint:a}}=s;if(!o)return;const u=(n=dt(t))!=null?n:W,l=Ve(o,u);if(!r&&a){if(Wt(a)){if(a.tolerance!=null&&it(l,a.tolerance))return this.handleCancel();if(it(l,a.distance))return this.handleStart()}if(Vt(a)&&it(l,a.tolerance))return this.handleCancel();this.handlePending(a,l);return}t.cancelable&&t.preventDefault(),i(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===T.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Ir={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class En extends Dt{constructor(t){const{event:n}=t,r=ye(n.target);super(t,Ir,r)}}En.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Ar={move:{name:"mousemove"},end:{name:"mouseup"}};var gt;(function(e){e[e.RightClick=2]="RightClick"})(gt||(gt={}));class Nn extends Dt{constructor(t){super(t,Ar,ye(t.event.target))}}Nn.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===gt.RightClick?!1:(r==null||r({event:n}),!0)}}];const lt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Tn extends Dt{constructor(t){super(t,lt)}static setup(){return window.addEventListener(lt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(lt.move.name,t)};function t(){}}}Tn.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Ee;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ee||(Ee={}));var Ue;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ue||(Ue={}));function Or(e){let{acceleration:t,activator:n=Ee.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:i=5,order:a=Ue.TreeOrder,pointerCoordinates:u,scrollableAncestors:l,scrollableAncestorRects:h,delta:f,threshold:m}=e;const p=Pr({delta:f,disabled:!s}),[D,g]=Kn(),b=c.useRef({x:0,y:0}),C=c.useRef({x:0,y:0}),y=c.useMemo(()=>{switch(n){case Ee.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case Ee.DraggableRect:return o}},[n,o,u]),w=c.useRef(null),N=c.useCallback(()=>{const R=w.current;if(!R)return;const S=b.current.x*C.current.x,v=b.current.y*C.current.y;R.scrollBy(S,v)},[]),x=c.useMemo(()=>a===Ue.TreeOrder?[...l].reverse():l,[a,l]);c.useEffect(()=>{if(!s||!l.length||!y){g();return}for(const R of x){if((r==null?void 0:r(R))===!1)continue;const S=l.indexOf(R),v=h[S];if(!v)continue;const{direction:E,speed:I}=Cr(R,v,y,t,m);for(const k of["x","y"])p[k][E[k]]||(I[k]=0,E[k]=0);if(I.x>0||I.y>0){g(),w.current=R,D(N,i),b.current=I,C.current=E;return}}b.current={x:0,y:0},C.current={x:0,y:0},g()},[t,N,r,g,s,i,JSON.stringify(y),JSON.stringify(p),D,l,x,h,JSON.stringify(m)])}const Lr={x:{[j.Backward]:!1,[j.Forward]:!1},y:{[j.Backward]:!1,[j.Forward]:!1}};function Pr(e){let{delta:t,disabled:n}=e;const r=ut(t);return ke(o=>{if(n||!r||!o)return Lr;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[j.Backward]:o.x[j.Backward]||s.x===-1,[j.Forward]:o.x[j.Forward]||s.x===1},y:{[j.Backward]:o.y[j.Backward]||s.y===-1,[j.Forward]:o.y[j.Forward]||s.y===1}}},[n,t,r])}function zr(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return ke(o=>{var s;return t==null?null:(s=r??o)!=null?s:null},[r,t])}function qr(e,t){return c.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...s]},[]),[e,t])}var Re;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Re||(Re={}));var pt;(function(e){e.Optimized="optimized"})(pt||(pt={}));const Yt=new Map;function _r(e,t){let{dragging:n,dependencies:r,config:o}=t;const[s,i]=c.useState(null),{frequency:a,measure:u,strategy:l}=o,h=c.useRef(e),f=b(),m=Te(f),p=c.useCallback(function(C){C===void 0&&(C=[]),!m.current&&i(y=>y===null?C:y.concat(C.filter(w=>!y.includes(w))))},[m]),D=c.useRef(null),g=ke(C=>{if(f&&!n)return Yt;if(!C||C===Yt||h.current!==e||s!=null){const y=new Map;for(let w of e){if(!w)continue;if(s&&s.length>0&&!s.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const N=w.node.current,x=N?new xt(u(N),N):null;w.rect.current=x,x&&y.set(w.id,x)}return y}return C},[e,s,n,f,u]);return c.useEffect(()=>{h.current=e},[e]),c.useEffect(()=>{f||p()},[n,f]),c.useEffect(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),c.useEffect(()=>{f||typeof a!="number"||D.current!==null||(D.current=setTimeout(()=>{p(),D.current=null},a))},[a,f,p,...r]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:s!=null};function b(){switch(l){case Re.Always:return!1;case Re.BeforeDragging:return n;default:return!n}}}function Rn(e,t){return ke(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Fr(e,t){return Rn(e,t)}function $r(e){let{callback:t,disabled:n}=e;const r=yt(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return c.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Ze(e){let{callback:t,disabled:n}=e;const r=yt(t),o=c.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return c.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Hr(e){return new xt(je(e),e)}function Ut(e,t,n){t===void 0&&(t=Hr);const[r,o]=c.useState(null);function s(){o(u=>{if(!e)return null;if(e.isConnected===!1){var l;return(l=u??n)!=null?l:null}const h=t(e);return JSON.stringify(u)===JSON.stringify(h)?u:h})}const i=$r({callback(u){if(e)for(const l of u){const{type:h,target:f}=l;if(h==="childList"&&f instanceof HTMLElement&&f.contains(e)){s();break}}}}),a=Ze({callback:s});return se(()=>{s(),e?(a==null||a.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),i==null||i.disconnect())},[e]),r}function Br(e){const t=Rn(e);return mn(e,t)}const Xt=[];function Wr(e){const t=c.useRef(e),n=ke(r=>e?r&&r!==Xt&&e&&t.current&&e.parentNode===t.current.parentNode?r:wt(e):Xt,[e]);return c.useEffect(()=>{t.current=e},[e]),n}function Vr(e){const[t,n]=c.useState(null),r=c.useRef(e),o=c.useCallback(s=>{const i=at(s.target);i&&n(a=>a?(a.set(i,ht(i)),new Map(a)):null)},[]);return c.useEffect(()=>{const s=r.current;if(e!==s){i(s);const a=e.map(u=>{const l=at(u);return l?(l.addEventListener("scroll",o,{passive:!0}),[l,ht(l)]):null}).filter(u=>u!=null);n(a.length?new Map(a):null),r.current=e}return()=>{i(e),i(s)};function i(a){a.forEach(u=>{const l=at(u);l==null||l.removeEventListener("scroll",o)})}},[o,e]),c.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,i)=>ve(s,i),W):Dn(e):W,[e,t])}function Kt(e,t){t===void 0&&(t=[]);const n=c.useRef(null);return c.useEffect(()=>{n.current=null},t),c.useEffect(()=>{const r=e!==W;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Ve(e,n.current):W}function Yr(e){c.useEffect(()=>{if(!Je)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function Ur(e,t){return c.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=i=>{s(i,t)},n},{}),[e,t])}function Mn(e){return c.useMemo(()=>e?yr(e):null,[e])}const Jt=[];function Xr(e,t){t===void 0&&(t=je);const[n]=e,r=Mn(n?P(n):null),[o,s]=c.useState(Jt);function i(){s(()=>e.length?e.map(u=>wn(u)?r:new xt(t(u),u)):Jt)}const a=Ze({callback:i});return se(()=>{a==null||a.disconnect(),i(),e.forEach(u=>a==null?void 0:a.observe(u))},[e]),o}function Kr(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Me(t)?t:e}function Jr(e){let{measure:t}=e;const[n,r]=c.useState(null),o=c.useCallback(l=>{for(const{target:h}of l)if(Me(h)){r(f=>{const m=t(h);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),s=Ze({callback:o}),i=c.useCallback(l=>{const h=Kr(l);s==null||s.disconnect(),h&&(s==null||s.observe(h)),r(h?t(h):null)},[t,s]),[a,u]=We(i);return c.useMemo(()=>({nodeRef:a,rect:n,setRef:u}),[n,a,u])}const Gr=[{sensor:En,options:{}},{sensor:Sn,options:{}}],Zr={current:{}},He={draggable:{measure:Ht},droppable:{measure:Ht,strategy:Re.WhileDragging,frequency:pt.Optimized},dragOverlay:{measure:je}};class Ne extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Qr={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ne,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ye},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:He,measureDroppableContainers:Ye,windowRect:null,measuringScheduled:!1},eo={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ye,draggableNodes:new Map,over:null,measureDroppableContainers:Ye},Qe=c.createContext(eo),to=c.createContext(Qr);function no(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ne}}}function ro(e,t){switch(t.type){case M.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case M.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case M.DragEnd:case M.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case M.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Ne(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case M.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new Ne(e.droppable.containers);return i.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case M.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new Ne(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function oo(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=c.useContext(Qe),s=ut(r),i=ut(n==null?void 0:n.id);return c.useEffect(()=>{if(!t&&!r&&s&&i!=null){if(!gn(s)||document.activeElement===s.target)return;const a=o.get(i);if(!a)return;const{activatorNode:u,node:l}=a;if(!u.current&&!l.current)return;requestAnimationFrame(()=>{for(const h of[u.current,l.current]){if(!h)continue;const f=Zn(h);if(f){f.focus();break}}})}},[r,t,o,i,s]),null}function so(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...r}),n):n}function ao(e){return c.useMemo(()=>({draggable:{...He.draggable,...e==null?void 0:e.draggable},droppable:{...He.droppable,...e==null?void 0:e.droppable},dragOverlay:{...He.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function io(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const s=c.useRef(!1),{x:i,y:a}=typeof o=="boolean"?{x:o,y:o}:o;se(()=>{if(!i&&!a||!t){s.current=!1;return}if(s.current||!r)return;const l=t==null?void 0:t.node.current;if(!l||l.isConnected===!1)return;const h=n(l),f=mn(h,r);if(i||(f.x=0),a||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=vn(l);m&&m.scrollBy({top:f.y,left:f.x})}},[t,i,a,r,n])}const kn=c.createContext({...W,scaleX:1,scaleY:1});var re;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(re||(re={}));const lo=c.memo(function(t){var n,r,o,s;let{id:i,accessibility:a,autoScroll:u=!0,children:l,sensors:h=Gr,collisionDetection:f=fr,measuring:m,modifiers:p,...D}=t;const g=c.useReducer(ro,void 0,no),[b,C]=g,[y,w]=or(),[N,x]=c.useState(re.Uninitialized),R=N===re.Initialized,{draggable:{active:S,nodes:v,translate:E},droppable:{containers:I}}=b,k=S!=null?v.get(S):null,U=c.useRef({initial:null,translated:null}),X=c.useMemo(()=>{var O;return S!=null?{id:S,data:(O=k==null?void 0:k.data)!=null?O:Zr,rect:U}:null},[S,k]),G=c.useRef(null),[Ct,St]=c.useState(null),[K,Et]=c.useState(null),ae=Te(D,Object.values(D)),et=Ge("DndDescribedBy",i),Nt=c.useMemo(()=>I.getEnabled(),[I]),ie=ao(m),{droppableRects:de,measureDroppableContainers:Ae,measuringScheduled:Tt}=_r(Nt,{dragging:R,dependencies:[E.x,E.y],config:ie.droppable}),H=zr(v,S),Rt=c.useMemo(()=>K?dt(K):null,[K]),Mt=Xn(),kt=Fr(H,ie.draggable.measure);io({activeNode:S!=null?v.get(S):null,config:Mt.layoutShiftCompensation,initialRect:kt,measure:ie.draggable.measure});const B=Ut(H,ie.draggable.measure,kt),tt=Ut(H?H.parentElement:null),le=c.useRef({activatorEvent:null,active:null,activeNode:H,collisionRect:null,collisions:null,droppableRects:de,draggableNodes:v,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),jt=I.getNodeFor((n=le.current.over)==null?void 0:n.id),ce=Jr({measure:ie.dragOverlay.measure}),Oe=(r=ce.nodeRef.current)!=null?r:H,fe=R?(o=ce.rect)!=null?o:B:null,It=!!(ce.nodeRef.current&&ce.rect),At=Br(It?null:B),nt=Mn(Oe?P(Oe):null),Z=Wr(R?jt??H:null),Le=Xr(Z),Pe=so(p,{transform:{x:E.x-At.x,y:E.y-At.y,scaleX:1,scaleY:1},activatorEvent:K,active:X,activeNodeRect:B,containerNodeRect:tt,draggingNodeRect:fe,over:le.current.over,overlayNodeRect:ce.rect,scrollableAncestors:Z,scrollableAncestorRects:Le,windowRect:nt}),Ot=Rt?ve(Rt,E):null,Lt=Vr(Z),$n=Kt(Lt),Hn=Kt(Lt,[B]),he=ve(Pe,$n),ge=fe?pr(fe,Pe):null,we=X&&ge?f({active:X,collisionRect:ge,droppableRects:de,droppableContainers:Nt,pointerCoordinates:Ot}):null,Pt=ur(we,"id"),[Q,zt]=c.useState(null),Bn=It?Pe:ve(Pe,Hn),Wn=hr(Bn,(s=Q==null?void 0:Q.rect)!=null?s:null,B),rt=c.useRef(null),qt=c.useCallback((O,z)=>{let{sensor:q,options:ee}=z;if(G.current==null)return;const F=v.get(G.current);if(!F)return;const _=O.nativeEvent,V=new q({active:G.current,activeNode:F,event:_,options:ee,context:le,onAbort(A){if(!v.get(A))return;const{onDragAbort:Y}=ae.current,J={id:A};Y==null||Y(J),y({type:"onDragAbort",event:J})},onPending(A,te,Y,J){if(!v.get(A))return;const{onDragPending:De}=ae.current,ne={id:A,constraint:te,initialCoordinates:Y,offset:J};De==null||De(ne),y({type:"onDragPending",event:ne})},onStart(A){const te=G.current;if(te==null)return;const Y=v.get(te);if(!Y)return;const{onDragStart:J}=ae.current,xe={activatorEvent:_,active:{id:te,data:Y.data,rect:U}};me.unstable_batchedUpdates(()=>{J==null||J(xe),x(re.Initializing),C({type:M.DragStart,initialCoordinates:A,active:te}),y({type:"onDragStart",event:xe}),St(rt.current),Et(_)})},onMove(A){C({type:M.DragMove,coordinates:A})},onEnd:pe(M.DragEnd),onCancel:pe(M.DragCancel)});rt.current=V;function pe(A){return async function(){const{active:Y,collisions:J,over:xe,scrollAdjustedTranslate:De}=le.current;let ne=null;if(Y&&De){const{cancelDrop:Ce}=ae.current;ne={activatorEvent:_,active:Y,collisions:J,delta:De,over:xe},A===M.DragEnd&&typeof Ce=="function"&&await Promise.resolve(Ce(ne))&&(A=M.DragCancel)}G.current=null,me.unstable_batchedUpdates(()=>{C({type:A}),x(re.Uninitialized),zt(null),St(null),Et(null),rt.current=null;const Ce=A===M.DragEnd?"onDragEnd":"onDragCancel";if(ne){const ot=ae.current[Ce];ot==null||ot(ne),y({type:Ce,event:ne})}})}}},[v]),Vn=c.useCallback((O,z)=>(q,ee)=>{const F=q.nativeEvent,_=v.get(ee);if(G.current!==null||!_||F.dndKit||F.defaultPrevented)return;const V={active:_};O(q,z.options,V)===!0&&(F.dndKit={capturedBy:z.sensor},G.current=ee,qt(q,z))},[v,qt]),_t=qr(h,Vn);Yr(h),se(()=>{B&&N===re.Initializing&&x(re.Initialized)},[B,N]),c.useEffect(()=>{const{onDragMove:O}=ae.current,{active:z,activatorEvent:q,collisions:ee,over:F}=le.current;if(!z||!q)return;const _={active:z,activatorEvent:q,collisions:ee,delta:{x:he.x,y:he.y},over:F};me.unstable_batchedUpdates(()=>{O==null||O(_),y({type:"onDragMove",event:_})})},[he.x,he.y]),c.useEffect(()=>{const{active:O,activatorEvent:z,collisions:q,droppableContainers:ee,scrollAdjustedTranslate:F}=le.current;if(!O||G.current==null||!z||!F)return;const{onDragOver:_}=ae.current,V=ee.get(Pt),pe=V&&V.rect.current?{id:V.id,rect:V.rect.current,data:V.data,disabled:V.disabled}:null,A={active:O,activatorEvent:z,collisions:q,delta:{x:F.x,y:F.y},over:pe};me.unstable_batchedUpdates(()=>{zt(pe),_==null||_(A),y({type:"onDragOver",event:A})})},[Pt]),se(()=>{le.current={activatorEvent:K,active:X,activeNode:H,collisionRect:ge,collisions:we,droppableRects:de,draggableNodes:v,draggingNode:Oe,draggingNodeRect:fe,droppableContainers:I,over:Q,scrollableAncestors:Z,scrollAdjustedTranslate:he},U.current={initial:fe,translated:ge}},[X,H,we,ge,v,Oe,fe,de,I,Q,Z,he]),Or({...Mt,delta:E,draggingRect:ge,pointerCoordinates:Ot,scrollableAncestors:Z,scrollableAncestorRects:Le});const Yn=c.useMemo(()=>({active:X,activeNode:H,activeNodeRect:B,activatorEvent:K,collisions:we,containerNodeRect:tt,dragOverlay:ce,draggableNodes:v,droppableContainers:I,droppableRects:de,over:Q,measureDroppableContainers:Ae,scrollableAncestors:Z,scrollableAncestorRects:Le,measuringConfiguration:ie,measuringScheduled:Tt,windowRect:nt}),[X,H,B,K,we,tt,ce,v,I,de,Q,Ae,Z,Le,ie,Tt,nt]),Un=c.useMemo(()=>({activatorEvent:K,activators:_t,active:X,activeNodeRect:B,ariaDescribedById:{draggable:et},dispatch:C,draggableNodes:v,over:Q,measureDroppableContainers:Ae}),[K,_t,X,B,C,et,v,Q,Ae]);return L.createElement(pn.Provider,{value:w},L.createElement(Qe.Provider,{value:Un},L.createElement(to.Provider,{value:Yn},L.createElement(kn.Provider,{value:Wn},l)),L.createElement(oo,{disabled:(a==null?void 0:a.restoreFocus)===!1})),L.createElement(ir,{...a,hiddenTextDescribedById:et}));function Xn(){const O=(Ct==null?void 0:Ct.autoScrollEnabled)===!1,z=typeof u=="object"?u.enabled===!1:u===!1,q=R&&!O&&!z;return typeof u=="object"?{...u,enabled:q}:{enabled:q}}}),co=c.createContext(null),Gt="button",uo="Draggable";function fo(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const s=Ge(uo),{activators:i,activatorEvent:a,active:u,activeNodeRect:l,ariaDescribedById:h,draggableNodes:f,over:m}=c.useContext(Qe),{role:p=Gt,roleDescription:D="draggable",tabIndex:g=0}=o??{},b=(u==null?void 0:u.id)===t,C=c.useContext(b?kn:co),[y,w]=We(),[N,x]=We(),R=Ur(i,t),S=Te(n);se(()=>(f.set(t,{id:t,key:s,node:y,activatorNode:N,data:S}),()=>{const E=f.get(t);E&&E.key===s&&f.delete(t)}),[f,t]);const v=c.useMemo(()=>({role:p,tabIndex:g,"aria-disabled":r,"aria-pressed":b&&p===Gt?!0:void 0,"aria-roledescription":D,"aria-describedby":h.draggable}),[r,p,g,b,D,h.draggable]);return{active:u,activatorEvent:a,activeNodeRect:l,attributes:v,isDragging:b,listeners:r?void 0:R,node:y,over:m,setNodeRef:w,setActivatorNodeRef:x,transform:C}}const ho="Droppable",go={timeout:25};function po(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const s=Ge(ho),{active:i,dispatch:a,over:u,measureDroppableContainers:l}=c.useContext(Qe),h=c.useRef({disabled:n}),f=c.useRef(!1),m=c.useRef(null),p=c.useRef(null),{disabled:D,updateMeasurementsFor:g,timeout:b}={...go,...o},C=Te(g??r),y=c.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{l(Array.isArray(C.current)?C.current:[C.current]),p.current=null},b)},[b]),w=Ze({callback:y,disabled:D||!i}),N=c.useCallback((v,E)=>{w&&(E&&(w.unobserve(E),f.current=!1),v&&w.observe(v))},[w]),[x,R]=We(N),S=Te(t);return c.useEffect(()=>{!w||!x.current||(w.disconnect(),f.current=!1,w.observe(x.current))},[x,w]),c.useEffect(()=>(a({type:M.RegisterDroppable,element:{id:r,key:s,disabled:n,node:x,rect:m,data:S}}),()=>a({type:M.UnregisterDroppable,key:s,id:r})),[r]),c.useEffect(()=>{n!==h.current.disabled&&(a({type:M.SetDroppableDisabled,id:r,key:s,disabled:n}),h.current.disabled=n)},[r,s,n,a]),{active:i,rect:m,isOver:(u==null?void 0:u.id)===r,node:x,over:u,setNodeRef:R}}const mo=({event:e,onEventClick:t,isDraggable:n})=>{const{attributes:r,listeners:o,setNodeRef:s,transform:i,isDragging:a}=fo({id:e.id,disabled:!n}),u={transform:ft.Translate.toString(i),backgroundColor:e.color||"#3b82f6",color:"#fff",zIndex:a?50:"auto",opacity:a?.5:1};return d.jsx("div",{ref:s,style:u,...o,...r,className:"text-xs px-2 py-1 rounded truncate transition-opacity hover:opacity-80 cursor-grab active:cursor-grabbing mb-1",onClick:l=>{l.stopPropagation(),t(e)},role:"button",tabIndex:0,"aria-label":`Event: ${e.title}`,children:e.title})},jn=({date:e,events:t,isToday:n,isCurrentMonth:r,isSelected:o,onClick:s,onEventClick:i,isDroppable:a=!1})=>{const u=e.getDate(),{setNodeRef:l,isOver:h}=po({id:e.toISOString(),disabled:!a}),f=[...t].sort((D,g)=>new Date(D.startDate).getTime()-new Date(g.startDate).getTime()),m=f.slice(0,3),p=Math.max(0,f.length-3);return d.jsxs("div",{ref:l,className:ue("min-h-[120px] sm:min-h-[140px] border-b border-r border-neutral-200 p-2 transition-colors hover:bg-neutral-50 cursor-pointer flex flex-col group h-full",!r&&"bg-neutral-50 text-neutral-400 bg-opacity-30",o&&"bg-primary-50",h&&"bg-primary-100 ring-2 ring-primary-500 ring-inset","focus-visible:z-10 focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-500"),onClick:()=>s(e),role:"gridcell","aria-label":`${e.toDateString()}, ${t.length} events`,tabIndex:0,onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),s(e))},children:[d.jsx("div",{className:"flex justify-between items-start mb-1",children:d.jsx("span",{className:ue("text-sm font-medium w-7 h-7 flex items-center justify-center rounded-full",n?"bg-primary-600 text-white":"text-neutral-700 group-hover:bg-neutral-100",!r&&"text-neutral-400"),children:u})}),d.jsxs("div",{className:"space-y-1 flex-1 overflow-hidden",children:[m.map(D=>d.jsx(mo,{event:D,onEventClick:i,isDraggable:a},D.id)),p>0&&d.jsxs("div",{className:"text-xs text-neutral-500 font-medium pl-1",children:["+",p," more"]})]})]})};jn.__docgenInfo={description:"",methods:[],displayName:"CalendarCell",props:{date:{required:!0,tsType:{name:"Date"},description:""},events:{required:!0,tsType:{name:"Array",elements:[{name:"CalendarEvent"}],raw:"CalendarEvent[]"},description:""},isToday:{required:!0,tsType:{name:"boolean"},description:""},isCurrentMonth:{required:!0,tsType:{name:"boolean"},description:""},isSelected:{required:!1,tsType:{name:"boolean"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:""},onEventClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: CalendarEvent) => void",signature:{arguments:[{type:{name:"CalendarEvent"},name:"event"}],return:{name:"void"}}},description:""},isDroppable:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const Xe=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),vo=e=>{const t=e.getFullYear(),n=e.getMonth(),r=new Date(t,n,1),o=r.getDay(),s=new Date(r);s.setDate(s.getDate()-o);const i=[];for(let a=0;a<42;a++)i.push(new Date(s)),s.setDate(s.getDate()+1);return i},bo=e=>new Intl.DateTimeFormat("en-US",{month:"long",year:"numeric"}).format(e),yo=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],In=({currentDate:e,events:t,onDateClick:n,onEventClick:r,onEventDrop:o})=>{const s=vo(e),i=new Date,a=lr($t(Nn,{activationConstraint:{distance:10}}),$t(Tn,{activationConstraint:{delay:250,tolerance:5}})),u=l=>{const{active:h,over:f}=l;if(f&&h.id!==f.id&&o){const m=h.id,p=f.id,D=new Date(p),g=t.find(b=>b.id===m);g&&o(g,D)}};return d.jsx(lo,{sensors:a,onDragEnd:u,children:d.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-sm border border-neutral-200 overflow-hidden",children:[d.jsx("div",{className:"grid grid-cols-7 border-b border-neutral-200 bg-neutral-50",children:yo.map(l=>d.jsx("div",{className:"py-3 text-center text-xs font-semibold uppercase tracking-wider text-neutral-500",children:l},l))}),d.jsx("div",{className:"grid grid-cols-7 auto-rows-fr bg-neutral-200 gap-px flex-1 border-b border-neutral-200",children:s.map(l=>{const h=t.filter(m=>Xe(new Date(m.startDate),l)),f=l.getMonth()===e.getMonth();return d.jsx("div",{className:"bg-white min-h-[100px]",children:d.jsx(jn,{date:l,isToday:Xe(l,i),isCurrentMonth:f,events:h,onClick:n,onEventClick:r,isDroppable:!!o})},l.toISOString())})})]})})};In.__docgenInfo={description:"",methods:[],displayName:"MonthView",props:{currentDate:{required:!0,tsType:{name:"Date"},description:""},events:{required:!0,tsType:{name:"Array",elements:[{name:"CalendarEvent"}],raw:"CalendarEvent[]"},description:""},onDateClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:""},onEventClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: CalendarEvent) => void",signature:{arguments:[{type:{name:"CalendarEvent"},name:"event"}],return:{name:"void"}}},description:""},onEventDrop:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: CalendarEvent, newDate: Date) => void",signature:{arguments:[{type:{name:"CalendarEvent"},name:"event"},{type:{name:"Date"},name:"newDate"}],return:{name:"void"}}},description:""}}};const ct=Array.from({length:24},(e,t)=>t),wo=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],An=({currentDate:e,events:t,onTimeSlotClick:n,onEventClick:r})=>{const o=c.useMemo(()=>{const a=new Date(e);a.setDate(e.getDate()-e.getDay());const u=[];for(let l=0;l<7;l++){const h=new Date(a);h.setDate(a.getDate()+l),u.push(h)}return u},[e]),s=new Date,i=a=>{const u=new Date(a.startDate),l=new Date(a.endDate),h=u.getHours()+u.getMinutes()/60,m=l.getHours()+l.getMinutes()/60-h;return{top:`${h*60}px`,height:`${Math.max(m*60,24)}px`}};return d.jsxs("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-sm border border-neutral-200 overflow-hidden",children:[d.jsx("div",{className:"flex border-b border-neutral-200 bg-neutral-50 ml-14",children:o.map((a,u)=>{const l=Xe(a,s);return d.jsxs("div",{className:"flex-1 py-3 text-center border-l border-neutral-200 first:border-l-0",children:[d.jsx("div",{className:"text-xs font-semibold uppercase text-neutral-500",children:wo[a.getDay()]}),d.jsx("div",{className:ue("mt-1 text-lg font-medium w-8 h-8 rounded-full flex items-center justify-center mx-auto",l?"bg-primary-600 text-white":"text-neutral-900"),children:a.getDate()})]},u)})}),d.jsxs("div",{className:"flex-1 overflow-y-auto relative h-[600px]",children:[" ",d.jsxs("div",{className:"flex relative min-h-[1440px]",children:[" ",d.jsx("div",{className:"w-14 flex-none border-r border-neutral-200 bg-neutral-50 sticky left-0 z-10",children:ct.map(a=>d.jsx("div",{className:"h-[60px] text-xs text-neutral-500 text-right pr-2 relative -top-2",children:a===0?"":`${a}:00`},a))}),d.jsxs("div",{className:"flex-1 flex relative",children:[d.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none",children:ct.map(a=>d.jsx("div",{className:"h-[60px] border-b border-neutral-100"},a))}),o.map(a=>{const u=t.filter(l=>Xe(new Date(l.startDate),a));return d.jsxs("div",{className:"flex-1 border-l border-neutral-200 first:border-l-0 relative group",children:[ct.map(l=>d.jsx("div",{className:"h-[60px] w-full absolute z-0 hover:bg-neutral-50 transition-colors",style:{top:`${l*60}px`},onClick:()=>{const h=new Date(a);h.setHours(l,0,0,0),n(h)}},l)),u.map(l=>{const h=i(l);return d.jsxs("div",{className:"absolute left-1 right-1 rounded px-2 py-1 text-xs text-white overflow-hidden cursor-pointer hover:brightness-110 z-10 shadow-sm",style:{...h,backgroundColor:l.color||"#3b82f6"},onClick:f=>{f.stopPropagation(),r(l)},role:"button",tabIndex:0,"aria-label":`Event: ${l.title} from ${l.startDate.toLocaleTimeString()} to ${l.endDate.toLocaleTimeString()}`,children:[d.jsx("div",{className:"font-semibold",children:l.title}),d.jsx("div",{className:"opacity-90 text-[10px]",children:l.startDate.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},l.id)})]},a.toISOString())})]})]})]})]})};An.__docgenInfo={description:"",methods:[],displayName:"WeekView",props:{currentDate:{required:!0,tsType:{name:"Date"},description:""},events:{required:!0,tsType:{name:"Array",elements:[{name:"CalendarEvent"}],raw:"CalendarEvent[]"},description:""},onTimeSlotClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:""},onEventClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: CalendarEvent) => void",signature:{arguments:[{type:{name:"CalendarEvent"},name:"event"}],return:{name:"void"}}},description:""}}};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Do=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Zt=e=>{const t=Do(e);return t.charAt(0).toUpperCase()+t.slice(1)},On=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Co=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var So={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=c.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},u)=>c.createElement("svg",{ref:u,...So,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:On("lucide",o),...!s&&!Co(a)&&{"aria-hidden":"true"},...a},[...i.map(([l,h])=>c.createElement(l,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=(e,t)=>{const n=c.forwardRef(({className:r,...o},s)=>c.createElement(Eo,{ref:s,iconNode:t,className:On(`lucide-${xo(Zt(e))}`,`lucide-${e}`,r),...o}));return n.displayName=Zt(e),n};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],To=Ie("calendar",No);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mo=Ie("chevron-down",Ro);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jo=Ie("chevron-left",ko);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ao=Ie("chevron-right",Io);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lo=Ie("x",Oo),oe=({className:e,variant:t="primary",size:n="md",children:r,...o})=>{const s="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",i={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-white text-neutral-700 border border-neutral-300 hover:bg-neutral-50 focus:ring-primary-500",danger:"bg-error-500 text-white hover:bg-error-600 focus:ring-error-500",ghost:"text-neutral-600 hover:bg-neutral-100 hover:text-neutral-900 focus:ring-neutral-500"},a={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return d.jsx("button",{className:ue(s,i[t],a[n],e),...o,children:r})};oe.__docgenInfo={description:"",methods:[],displayName:"Button",props:{variant:{required:!1,tsType:{name:"union",raw:"'primary' | 'secondary' | 'danger' | 'ghost'",elements:[{name:"literal",value:"'primary'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'danger'"},{name:"literal",value:"'ghost'"}]},description:"",defaultValue:{value:"'primary'",computed:!1}},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:"",defaultValue:{value:"'md'",computed:!1}}},composes:["ButtonHTMLAttributes"]};const Ke=({label:e,options:t,error:n,className:r,id:o,...s})=>{const i=o||s.name;return d.jsxs("div",{className:"w-full",children:[e&&d.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-neutral-700 mb-1",children:e}),d.jsxs("div",{className:"relative",children:[d.jsx("select",{id:i,className:ue("block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm px-3 py-2 border appearance-none pr-10",n&&"border-error-500 focus:border-error-500 focus:ring-error-500",r),...s,children:t.map(a=>d.jsx("option",{value:a.value,children:a.label},a.value))}),d.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-neutral-500",children:d.jsx(Mo,{className:"h-4 w-4"})})]}),n&&d.jsx("p",{className:"mt-1 text-xs text-error-500",children:n})]})};Ke.__docgenInfo={description:"",methods:[],displayName:"Select",props:{label:{required:!1,tsType:{name:"string"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"SelectOption"}],raw:"SelectOption[]"},description:""},error:{required:!1,tsType:{name:"string"},description:""}},composes:["SelectHTMLAttributes"]};const Ln=({currentDate:e,view:t,onNextMonth:n,onPrevMonth:r,onToday:o,onViewChange:s})=>d.jsxs("header",{className:"flex flex-col sm:flex-row items-center justify-between border-b border-neutral-200 px-6 py-4 bg-white gap-4 sm:gap-0",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center text-neutral-900",children:[d.jsx(To,{className:"w-6 h-6 mr-2 text-primary-600"}),d.jsx("h1",{className:"text-xl font-bold",children:bo(e)})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(oe,{variant:"ghost",size:"sm",onClick:r,"aria-label":"Previous month",children:d.jsx(jo,{className:"w-5 h-5"})}),d.jsx(oe,{variant:"ghost",size:"sm",onClick:n,"aria-label":"Next month",children:d.jsx(Ao,{className:"w-5 h-5"})}),d.jsx(oe,{variant:"secondary",size:"sm",onClick:o,children:"Today"})]})]}),d.jsx("div",{className:"flex items-center",children:d.jsx("div",{className:"w-32",children:d.jsx(Ke,{options:[{value:"month",label:"Month View"},{value:"week",label:"Week View"}],value:t,onChange:i=>s(i.target.value),"aria-label":"Calendar view"})})})]});Ln.__docgenInfo={description:"",methods:[],displayName:"Header",props:{currentDate:{required:!0,tsType:{name:"Date"},description:""},view:{required:!0,tsType:{name:"union",raw:"'month' | 'week'",elements:[{name:"literal",value:"'month'"},{name:"literal",value:"'week'"}]},description:""},onNextMonth:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onPrevMonth:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onToday:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onViewChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(view: CalendarViewType) => void",signature:{arguments:[{type:{name:"union",raw:"'month' | 'week'",elements:[{name:"literal",value:"'month'"},{name:"literal",value:"'week'"}]},name:"view"}],return:{name:"void"}}},description:""}}};const Po=({isOpen:e,onClose:t,title:n,children:r,description:o})=>(c.useEffect(()=>{const s=i=>{i.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[e,t]),e?me.createPortal(d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 sm:p-6",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title","aria-describedby":o?"modal-description":void 0,children:[d.jsx("div",{className:"fixed inset-0 bg-neutral-900/50 backdrop-blur-sm transition-opacity",onClick:t,"aria-hidden":"true"}),d.jsxs("div",{className:"relative w-full max-w-lg transform rounded-xl bg-white p-6 text-left shadow-modal transition-all animate-fade-in",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-neutral-900",children:n}),o&&d.jsx("p",{id:"modal-description",className:"mt-1 text-sm text-neutral-500",children:o})]}),d.jsx(oe,{variant:"ghost",size:"sm",onClick:t,"aria-label":"Close modal",className:"!p-1",children:d.jsx(Lo,{className:"w-5 h-5"})})]}),r]})]}),document.body):null),Be=({label:e,error:t,className:n,id:r,...o})=>{const s=r||o.name;return d.jsxs("div",{className:"w-full",children:[e&&d.jsx("label",{htmlFor:s,className:"block text-sm font-medium text-neutral-700 mb-1",children:e}),d.jsx("input",{id:s,className:ue("block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm px-3 py-2 border",t&&"border-error-500 focus:border-error-500 focus:ring-error-500",n),...o}),t&&d.jsx("p",{className:"mt-1 text-xs text-error-500",children:t})]})};Be.__docgenInfo={description:"",methods:[],displayName:"Input",props:{label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""}},composes:["InputHTMLAttributes"]};const Pn=({label:e,error:t,className:n,id:r,...o})=>{const s=r||o.name;return d.jsxs("div",{className:"w-full",children:[e&&d.jsx("label",{htmlFor:s,className:"block text-sm font-medium text-neutral-700 mb-1",children:e}),d.jsx("textarea",{id:s,className:ue("block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm px-3 py-2 border",t&&"border-error-500 focus:border-error-500 focus:ring-error-500",n),...o}),t&&d.jsx("p",{className:"mt-1 text-xs text-error-500",children:t})]})};Pn.__docgenInfo={description:"",methods:[],displayName:"Textarea",props:{label:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""}},composes:["TextareaHTMLAttributes"]};const ze=[{value:"#3b82f6",label:"Blue"},{value:"#ef4444",label:"Red"},{value:"#10b981",label:"Green"},{value:"#f59e0b",label:"Yellow"},{value:"#8b5cf6",label:"Purple"}],qe=[{value:"Meeting",label:"Meeting"},{value:"Work",label:"Work"},{value:"Personal",label:"Personal"},{value:"Other",label:"Other"}],zn=({isOpen:e,onClose:t,onSave:n,onDelete:r,initialEvent:o,selectedDate:s})=>{const[i,a]=c.useState(""),[u,l]=c.useState(""),[h,f]=c.useState(""),[m,p]=c.useState(""),[D,g]=c.useState(ze[0].value),[b,C]=c.useState(qe[0].value),[y,w]=c.useState({});c.useEffect(()=>{if(e){if(o)a(o.title||""),l(o.description||""),f(N(o.startDate||s||new Date)),p(N(o.endDate||new Date(new Date().setHours(new Date().getHours()+1)))),g(o.color||ze[0].value),C(o.category||qe[0].value);else{const v=s||new Date,E=new Date(v.getTime()+60*60*1e3);a(""),l(""),f(N(v)),p(N(E)),g(ze[0].value),C(qe[0].value)}w({})}},[e,o,s]);const N=v=>{const E=new Date(v);return E.setMinutes(E.getMinutes()-E.getTimezoneOffset()),E.toISOString().slice(0,16)},x=()=>{const v={};return i.trim()||(v.title="Title is required"),h||(v.startDate="Start date is required"),m||(v.endDate="End date is required"),new Date(h)>=new Date(m)&&(v.endDate="End date must be after start date"),w(v),Object.keys(v).length===0},R=()=>{x()&&(n({id:(o==null?void 0:o.id)||crypto.randomUUID(),title:i,description:u,startDate:new Date(h),endDate:new Date(m),color:D,category:b}),t())},S=()=>{o!=null&&o.id&&(r(o.id),t())};return d.jsx(Po,{isOpen:e,onClose:t,title:o!=null&&o.id?"Edit Event":"Add Event",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx(Be,{label:"Title",value:i,onChange:v=>a(v.target.value),error:y.title,placeholder:"Event title",autoFocus:!0}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(Be,{label:"Start",type:"datetime-local",value:h,onChange:v=>f(v.target.value),error:y.startDate}),d.jsx(Be,{label:"End",type:"datetime-local",value:m,onChange:v=>p(v.target.value),error:y.endDate})]}),d.jsx(Pn,{label:"Description",value:u,onChange:v=>l(v.target.value),placeholder:"Add description...",rows:3}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(Ke,{label:"Color",options:ze,value:D,onChange:v=>g(v.target.value)}),d.jsx(Ke,{label:"Category",options:qe,value:b,onChange:v=>C(v.target.value)})]}),d.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-neutral-100 mt-6",children:[(o==null?void 0:o.id)&&d.jsx(oe,{variant:"danger",onClick:S,type:"button",className:"mr-auto",children:"Delete"}),d.jsx(oe,{variant:"secondary",onClick:t,type:"button",children:"Cancel"}),d.jsx(oe,{onClick:R,type:"button",children:"Save"})]})]})})};zn.__docgenInfo={description:"",methods:[],displayName:"EventModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSave:{required:!0,tsType:{name:"signature",type:"function",raw:"(event: CalendarEvent) => void",signature:{arguments:[{type:{name:"CalendarEvent"},name:"event"}],return:{name:"void"}}},description:""},onDelete:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},initialEvent:{required:!1,tsType:{name:"Partial",elements:[{name:"CalendarEvent"}],raw:"Partial<CalendarEvent>"},description:""},selectedDate:{required:!1,tsType:{name:"Date"},description:""}}};const zo=(e=new Date)=>{const[t,n]=c.useState({currentDate:e,view:"month",selectedDate:null}),r=c.useCallback(()=>{n(u=>({...u,currentDate:new Date(u.currentDate.getFullYear(),u.currentDate.getMonth()+1,1)}))},[]),o=c.useCallback(()=>{n(u=>({...u,currentDate:new Date(u.currentDate.getFullYear(),u.currentDate.getMonth()-1,1)}))},[]),s=c.useCallback(()=>{n(u=>({...u,currentDate:new Date}))},[]),i=c.useCallback(u=>{n(l=>({...l,view:u}))},[]),a=c.useCallback(u=>{n(l=>({...l,selectedDate:u}))},[]);return{...t,goToNextMonth:r,goToPreviousMonth:o,goToToday:s,setView:i,selectDate:a}},Qt=e=>{let t;const n=new Set,r=(l,h)=>{const f=typeof l=="function"?l(t):l;if(!Object.is(f,t)){const m=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,m))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:l=>(n.add(l),()=>n.delete(l))},u=t=e(r,o,a);return a},qo=e=>e?Qt(e):Qt,_o=e=>e;function Fo(e,t=_o){const n=L.useSyncExternalStore(e.subscribe,L.useCallback(()=>t(e.getState()),[e,t]),L.useCallback(()=>t(e.getInitialState()),[e,t]));return L.useDebugValue(n),n}const en=e=>{const t=qo(e),n=r=>Fo(t,r);return Object.assign(n,t),n},$o=e=>e?en(e):en;function Ho(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var s;const i=u=>u===null?null:JSON.parse(u,void 0),a=(s=n.getItem(o))!=null?s:null;return a instanceof Promise?a.then(i):i(a)},setItem:(o,s)=>n.setItem(o,JSON.stringify(s,void 0)),removeItem:o=>n.removeItem(o)}}const mt=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return mt(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return mt(r)(n)}}}},Bo=(e,t)=>(n,r,o)=>{let s={storage:Ho(()=>localStorage),partialize:g=>g,version:0,merge:(g,b)=>({...b,...g}),...t},i=!1;const a=new Set,u=new Set;let l=s.storage;if(!l)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...g)},r,o);const h=()=>{const g=s.partialize({...r()});return l.setItem(s.name,{state:g,version:s.version})},f=o.setState;o.setState=(g,b)=>(f(g,b),h());const m=e((...g)=>(n(...g),h()),r,o);o.getInitialState=()=>m;let p;const D=()=>{var g,b;if(!l)return;i=!1,a.forEach(y=>{var w;return y((w=r())!=null?w:m)});const C=((b=s.onRehydrateStorage)==null?void 0:b.call(s,(g=r())!=null?g:m))||void 0;return mt(l.getItem.bind(l))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate){const w=s.migrate(y.state,y.version);return w instanceof Promise?w.then(N=>[!0,N]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var w;const[N,x]=y;if(p=s.merge(x,(w=r())!=null?w:m),n(p,!0),N)return h()}).then(()=>{C==null||C(p,void 0),p=r(),i=!0,u.forEach(y=>y(p))}).catch(y=>{C==null||C(void 0,y)})};return o.persist={setOptions:g=>{s={...s,...g},g.storage&&(l=g.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>D(),hasHydrated:()=>i,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(u.add(g),()=>{u.delete(g)})},s.skipHydration||D(),p||m},Wo=Bo,qn=$o()(Wo((e,t)=>({events:[],addEvent:n=>e(r=>({events:[...r.events,n]})),updateEvent:(n,r)=>e(o=>({events:o.events.map(s=>s.id===n?{...s,...r}:s)})),deleteEvent:n=>e(r=>({events:r.events.filter(o=>o.id!==n)})),getEventsByDate:n=>{const{events:r}=t();return r.filter(o=>{const s=new Date(o.startDate),i=new Date(o.endDate),a=new Date(n);return s.setHours(0,0,0,0),i.setHours(0,0,0,0),a.setHours(0,0,0,0),a>=s&&a<=i})}}),{name:"calendar-events-storage",storage:{getItem:e=>{const t=localStorage.getItem(e);return t?JSON.parse(t,(n,r)=>n==="startDate"||n==="endDate"?new Date(r):r):null},setItem:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},removeItem:e=>localStorage.removeItem(e)}})),_n=()=>{const{currentDate:e,view:t,goToNextMonth:n,goToPreviousMonth:r,goToToday:o,setView:s}=zo(),{events:i,addEvent:a,updateEvent:u,deleteEvent:l}=qn(),[h,f]=c.useState(!1),[m,p]=c.useState(void 0),[D,g]=c.useState(void 0),b=x=>{g(x),p(void 0),f(!0)},C=x=>{p(x),g(void 0),f(!0)},y=x=>{m!=null&&m.id?u(x.id,x):a(x)},w=x=>{l(x)},N=(x,R)=>{const S=new Date(x.endDate).getTime()-new Date(x.startDate).getTime(),v=new Date(x.startDate),E=new Date(R);E.setHours(v.getHours(),v.getMinutes(),v.getSeconds());const I=new Date(E.getTime()+S);u(x.id,{...x,startDate:E,endDate:I})};return d.jsxs("div",{className:"h-screen flex flex-col bg-neutral-50 p-4 sm:p-6 lg:p-8",children:[d.jsxs("div",{className:"max-w-7xl mx-auto w-full h-full flex flex-col bg-white rounded-xl shadow-card overflow-hidden",children:[d.jsx(Ln,{currentDate:e,view:t,onNextMonth:n,onPrevMonth:r,onToday:o,onViewChange:s}),d.jsx("main",{className:"flex-1 overflow-auto p-4",children:t==="month"?d.jsx(In,{currentDate:e,events:i,onDateClick:b,onEventClick:C,onEventDrop:N}):d.jsx(An,{currentDate:e,events:i,onTimeSlotClick:b,onEventClick:C})})]}),d.jsx(zn,{isOpen:h,onClose:()=>f(!1),onSave:y,onDelete:w,initialEvent:m,selectedDate:D})]})};_n.__docgenInfo={description:"",methods:[],displayName:"CalendarView"};const Vo=({events:e,...t})=>{const{addEvent:n}=qn();return c.useEffect(()=>{e.forEach(r=>n(r))},[]),d.jsx(_n,{...t})},Ko={title:"Calendar/CalendarView",component:Vo,parameters:{layout:"fullscreen"}},Fn=[{id:"1",title:"Team Standup",startDate:new Date(new Date().setHours(9,0,0,0)),endDate:new Date(new Date().setHours(9,30,0,0)),color:"#3b82f6",category:"Meeting"},{id:"2",title:"Design Review",startDate:new Date(new Date().setHours(14,0,0,0)),endDate:new Date(new Date().setHours(15,30,0,0)),color:"#10b981",category:"Work"}],_e={args:{events:Fn}},Fe={args:{events:[]}},$e={args:{events:Fn}};var tn,nn,rn;_e.parameters={..._e.parameters,docs:{...(tn=_e.parameters)==null?void 0:tn.docs,source:{originalSource:`{
  args: {
    events: sampleEvents
  }
}`,...(rn=(nn=_e.parameters)==null?void 0:nn.docs)==null?void 0:rn.source}}};var on,sn,an;Fe.parameters={...Fe.parameters,docs:{...(on=Fe.parameters)==null?void 0:on.docs,source:{originalSource:`{
  args: {
    events: []
  }
}`,...(an=(sn=Fe.parameters)==null?void 0:sn.docs)==null?void 0:an.source}}};var ln,cn,un;$e.parameters={...$e.parameters,docs:{...(ln=$e.parameters)==null?void 0:ln.docs,source:{originalSource:`{
  args: {
    events: sampleEvents
  }
  // parameters to switch view? CalendarView doesn't accept initialView prop in my implementation yet usually? 
  // Wait, create hook defined internal state. 
  // If I want to control it via storybook, I pass props to CalendarView that init the hook.
  // I should check CalendarView implementation. It just uses useCalendar() with defaults.
  // To make it testable, I should probably accept optional props in CalendarView to pass to useCalendar.
}`,...(un=(cn=$e.parameters)==null?void 0:cn.docs)==null?void 0:un.source}}};const Jo=["Default","Empty","WeekView"];export{_e as Default,Fe as Empty,$e as WeekView,Jo as __namedExportsOrder,Ko as default};
